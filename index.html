<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Fact Synthesis Engine</title>
    <!-- Tailwind CSS CDN for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Cool Gray 50 */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 1.5rem;
            box-sizing: border-box;
        }
        .container {
            max-width: 600px;
            width: 100%;
            background-color: #ffffff;
            border-radius: 0.75rem; /* Rounded corners */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 2.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.75rem;
            border: 1px solid #e2e8f0; /* Subtle border */
        }
        .header {
            text-align: center;
            color: #1e293b; /* Slate 900 */
            font-weight: 700;
            font-size: 2.5rem; /* text-4xl */
            line-height: 1.2;
            letter-spacing: -0.025em; /* Tighten letter spacing */
        }
        .input-group {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
        }
        input[type="text"] {
            flex: 1 1 60%; /* Flexible width, grows */
            min-width: 200px; /* Minimum width before wrapping */
            padding: 0.875rem 1.25rem;
            border: 1px solid #cbd5e1; /* Slate 300 */
            border-radius: 0.5rem; /* Slightly less rounded */
            font-size: 1rem;
            color: #334155; /* Slate 700 */
            outline: none;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        input[type="text"]:focus {
            border-color: #4f46e5; /* Indigo 600 */
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2); /* Soft focus ring */
        }
        button {
            flex: 1 1 35%; /* Flexible width for buttons */
            min-width: 120px;
            background-color: #4f46e5; /* Indigo 600 */
            color: white;
            padding: 0.875rem 1.5rem;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        button:hover {
            background-color: #4338ca; /* Indigo 700 */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .fact-display {
            background-color: #f0f4f8; /* Light blue-gray for fact box */
            border: 1px solid #e2e8f0; /* Subtle border */
            border-radius: 0.5rem;
            padding: 1.5rem;
            min-height: 100px;
            display: flex;
            flex-direction: column; /* Allow content to stack */
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 1.125rem; /* text-lg */
            color: #334155; /* Slate 700 */
            line-height: 1.6;
            transition: background-color 0.3s ease-in-out;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05);
            font-style: italic; /* Keep italic for facts */
        }
        .fact-display.loading {
            background-color: #dbeafe; /* Lighter blue during loading */
            color: #3b82f6; /* Blue 500 */
            animation: pulse 1.5s infinite ease-in-out;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
        }
        .suggestions {
            text-align: center;
            color: #64748b; /* Slate 500 */
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .suggestions span {
            font-weight: 500;
            color: #475569; /* Slate 600 */
        }
        .btn-secondary {
            background-color: #e2e8f0; /* Slate 200 */
            color: #1e293b; /* Slate 900 */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        .btn-secondary:hover {
            background-color: #cbd5e1; /* Slate 300 */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .btn-secondary:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        /* Removed .fact-image specific styling as images are removed */
    </style>
</head>
<body>
    <div class="container">
        <h1 class="header">Knowledge Nexus</h1>
        <p class="text-center text-slate-600">Your portal to curated insights.</p>

        <div class="input-group">
            <input type="text" id="userInput" placeholder="Query for a fact (e.g., 'animal', 'space', 'history')">
            <button id="getFactBtn">Retrieve Fact</button>
        </div>

        <div id="factOutput" class="fact-display">
            Initiating knowledge retrieval...
        </div>

        <button id="exploreMoreBtn" class="btn-secondary">Explore All Data Points</button>

        <p class="suggestions">
            Keywords: <span>'general'</span>, <span>'animal'</span>, <span>'history'</span>, <span>'space'</span>.
        </p>
    </div>

    <script>
        const generalFacts = [
            "A group of owls is called a parliament.",
            "Honey never spoils.",
            "The shortest war in history lasted 38 to 45 minutes.",
            "Octopuses have three hearts.",
            "It is impossible for most people to lick their own elbow.",
            "A jiffy is an actual unit of time: 1/100th of a second.",
            "Cows have best friends."
        ];

        const animalFacts = [
            "A snail can sleep for three years.",
            "Butterflies taste with their feet.",
            "The heart of a shrimp is in its head.",
            "Starfish don't have brains.",
            "A group of rhinos is called a crash.",
            "Elephants are the only animals that can't jump."
        ];

        const spaceFacts = [
            "One day on Venus is longer than one year on Venus.",
            "There are more trees on Earth than stars in the Milky Way galaxy.",
            "The highest mountain discovered is on Mars.",
            "The largest known asteroid is Ceres, which is 945 km wide.",
            "The Sun contains 99.86% of the mass in our solar system."
        ];

        const historyFacts = [
            "The Great Wall of China is not visible from space with the naked eye.",
            "The shortest war in history was between Britain and Zanzibar on August 27, 1896, lasting 38 minutes.",
            "Ancient Egyptians slept on pillows made of stone.",
            "The Roman Empire lasted for over 1000 years.",
            "The yo-yo was originally a weapon in the Philippines."
        ];

        const factCategories = {
            "animal": animalFacts,
            "animals": animalFacts,
            "space": spaceFacts,
            "history": historyFacts,
            "random": generalFacts,
            "general": generalFacts,
            "tell me something": generalFacts // Treat this as a general request
        };

        function getRandomFact(category) {
            const facts = factCategories[category] || generalFacts; // Default to general if category not found
            if (facts.length === 0) {
                return "No data points available for this category.";
            }
            const randomIndex = Math.floor(Math.random() * facts.length);
            return facts[randomIndex];
        }

        document.getElementById('getFactBtn').addEventListener('click', displayFact);
        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                displayFact();
            }
        });

        document.getElementById('exploreMoreBtn').addEventListener('click', () => {
            window.location.href = 'facts.html';
        });

        async function displayFact() {
            const userInput = document.getElementById('userInput').value.toLowerCase().trim();
            const factOutput = document.getElementById('factOutput');
            const getFactBtn = document.getElementById('getFactBtn');

            // Clear previous content and show loading state
            factOutput.innerHTML = ''; // Clear image and text
            factOutput.classList.add('loading');
            factOutput.textContent = 'Processing request...';
            getFactBtn.disabled = true; // Disable button during processing

            // Simulate a network delay for a more realistic feel
            await new Promise(resolve => setTimeout(resolve, 800)); 

            let selectedFactText = "Invalid query. Please refine your request or explore known categories.";

            // Check for direct category matches
            if (factCategories[userInput]) {
                selectedFactText = getRandomFact(userInput);
            } else if (userInput.includes("random fact") || userInput.includes("tell me something") || userInput === "") {
                selectedFactText = getRandomFact("general");
            } else {
                // Attempt to find keywords in categories
                const foundCategory = Object.keys(factCategories).find(key => userInput.includes(key));
                if (foundCategory) {
                    selectedFactText = getRandomFact(foundCategory);
                } else {
                    // Fallback to general if no specific category or keyword match
                    selectedFactText = getRandomFact("general");
                }
            }

            // Display the fact text
            factOutput.innerHTML = ''; // Clear loading text
            const p = document.createElement('p');
            p.textContent = selectedFactText;
            p.style.fontStyle = 'italic'; // Maintain italic style for fact text
            factOutput.appendChild(p);

            factOutput.classList.remove('loading');
            getFactBtn.disabled = false; // Re-enable button
        }

        // Initial welcome message
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('factOutput').innerHTML = '<p style="font-style: italic;">Welcome to Knowledge Nexus. Enter a query or explore all data points.</p>';
        });
    </script>
</body>
</html>
